/* my_grep.c
   Simple grep: my_grep pattern file
   Compile: gcc my_grep.c -o my_grep
   Run: ./my_grep pattern filename
*/
#include <stdio.h>
#include <string.h>

int main(int argc, char *argv[]) {
    if (argc < 3) { fprintf(stderr, "Usage: %s pattern file\n", argv[0]); return 1; }
    const char *pattern = argv[1];
    FILE *f = fopen(argv[2], "r");
    if (!f) { perror("fopen"); return 1; }
    char line[4096]; int lineno=0;
    while (fgets(line, sizeof(line), f)) {
        lineno++;
        if (strstr(line, pattern)) {
            printf("%s:%d:%s", argv[2], lineno, line);
        }
    }
    fclose(f);
    return 0;
}
